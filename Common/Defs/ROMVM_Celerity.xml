<?xml version="1.0" encoding="utf-8" ?>

<Defs>

  <Vampire.DisciplineDef>
    <defName>ROMV_Celerity</defName>
    <label>Celerity</label>
    <abilities>
      <li>ROMV_CelerityI</li>
      <li>ROMV_CelerityII</li>
      <li>ROMV_CelerityIII</li>
      <li>ROMV_CelerityIV</li>
    </abilities>
    <tags>
      <li>Physical</li>
    </tags>
  </Vampire.DisciplineDef>

  <Vampire.VitaeAbilityDef ParentName="BaseVampAbility">
    <defName>ROMV_CelerityI</defName>
    <label>Celerity I</label>
    <uiIconPath>Celerity</uiIconPath>
    <description>Passively boosts movement and sight by 10% per level.</description>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
      <verbClass>Vampire.DisciplineEffect_EnterTheAbyss</verbClass>
      <hasStandardCommand>false</hasStandardCommand>
      <defaultProjectile>ROMV_DominateProjectile</defaultProjectile>
      <abilityDef>ROMV_Obtenebration_EnterTheAbyss</abilityDef>
      <isViolent>false</isViolent>
      <warmupTime>1</warmupTime>
      <SecondsToRecharge>200.0</SecondsToRecharge>
      <range>99</range>
      <burstShotCount>1</burstShotCount>
      <ticksBetweenBurstShots>2</ticksBetweenBurstShots>
      <soundCast>ROMV_AbilityCastSound_Obtenebration</soundCast>
      <muzzleFlashScale>20</muzzleFlashScale>
      <isPrimary>false</isPrimary>
      <targetParams>
        <canTargetLocations>true</canTargetLocations>
        <canTargetPawns>false</canTargetPawns>
        <canTargetBuildings>false</canTargetBuildings>
        <canTargetItems>false</canTargetItems>
        <canTargetSelf>false</canTargetSelf>
      </targetParams>
      <tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
      <tooltipShowExtraDamages>false</tooltipShowExtraDamages>
      <tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
      <tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
    </MainVerb>
    <PassiveProps>
      <worker>AbilityUser.PassiveEffectWorker</worker>
      <hediffs>
        <li>ROMV_CelerityIHediff</li>
      </hediffs>
    </PassiveProps>
  </Vampire.VitaeAbilityDef>
  <HediffDef ParentName="ROMV_VampBase">
    <defName>ROMV_CelerityIHediff</defName>
    <label>supernatural speed (Celerity I)</label>
    <description>supernatural speed (Celerity I)</description>
    <comps>
      <li Class="HediffCompProperties_Disappears">
        <disappearsAfterTicks>
          <min>3000</min>
          <max>3000</max>
        </disappearsAfterTicks>
      </li>
    </comps>
    <stages>
      <li>
        <capMods>
          <li>
            <capacity>Sight</capacity>
            <offset>0.1</offset>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>0.1</offset>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

  <Vampire.VitaeAbilityDef ParentName="BaseVampAbility">
    <defName>ROMV_CelerityII</defName>
    <label>Celerity II</label>
    <uiIconPath>Celerity</uiIconPath>
    <description>Passively boosts movement and sight by 10% per level.</description>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
      <verbClass>Vampire.DisciplineEffect_EnterTheAbyss</verbClass>
      <hasStandardCommand>false</hasStandardCommand>
      <defaultProjectile>ROMV_DominateProjectile</defaultProjectile>
      <abilityDef>ROMV_Obtenebration_EnterTheAbyss</abilityDef>
      <isViolent>false</isViolent>
      <warmupTime>1</warmupTime>
      <SecondsToRecharge>200.0</SecondsToRecharge>
      <range>99</range>
      <burstShotCount>1</burstShotCount>
      <ticksBetweenBurstShots>2</ticksBetweenBurstShots>
      <soundCast>ROMV_AbilityCastSound_Obtenebration</soundCast>
      <muzzleFlashScale>20</muzzleFlashScale>
      <isPrimary>false</isPrimary>
      <targetParams>
        <canTargetLocations>true</canTargetLocations>
        <canTargetPawns>false</canTargetPawns>
        <canTargetBuildings>false</canTargetBuildings>
        <canTargetItems>false</canTargetItems>
        <canTargetSelf>false</canTargetSelf>
      </targetParams>
      <tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
      <tooltipShowExtraDamages>false</tooltipShowExtraDamages>
      <tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
      <tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
    </MainVerb>
    <PassiveProps>
      <worker>AbilityUser.PassiveEffectWorker</worker>
      <hediffs>
        <li>ROMV_CelerityIIHediff</li>
      </hediffs>
    </PassiveProps>
  </Vampire.VitaeAbilityDef>
  <HediffDef ParentName="ROMV_VampBase">
    <defName>ROMV_CelerityIIHediff</defName>
    <label>supernatural speed (Celerity II)</label>
    <description>supernatural speed (Celerity II)</description>
    <comps>
      <li Class="HediffCompProperties_Disappears">
        <disappearsAfterTicks>
          <min>3000</min>
          <max>3000</max>
        </disappearsAfterTicks>
      </li>
    </comps>
    <stages>
      <li>
        <capMods>
          <li>
            <capacity>Moving</capacity>
            <offset>0.1</offset>
          </li>
          <li>
            <capacity>Sight</capacity>
            <offset>0.1</offset>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

  <Vampire.VitaeAbilityDef ParentName="BaseVampAbility">
    <defName>ROMV_CelerityIII</defName>
    <label>Celerity III</label>
    <uiIconPath>Celerity</uiIconPath>
    <description>Passively boosts movement and sight by 10% per level.</description>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
      <verbClass>Vampire.DisciplineEffect_EnterTheAbyss</verbClass>
      <hasStandardCommand>false</hasStandardCommand>
      <defaultProjectile>ROMV_DominateProjectile</defaultProjectile>
      <abilityDef>ROMV_Obtenebration_EnterTheAbyss</abilityDef>
      <isViolent>false</isViolent>
      <warmupTime>1</warmupTime>
      <SecondsToRecharge>200.0</SecondsToRecharge>
      <range>1</range>
      <burstShotCount>1</burstShotCount>
      <ticksBetweenBurstShots>2</ticksBetweenBurstShots>
      <soundCast>ROMV_AbilityCastSound_Obtenebration</soundCast>
      <muzzleFlashScale>20</muzzleFlashScale>
      <isPrimary>false</isPrimary>
      <targetParams>
        <canTargetLocations>true</canTargetLocations>
        <canTargetPawns>false</canTargetPawns>
        <canTargetBuildings>false</canTargetBuildings>
        <canTargetItems>false</canTargetItems>
        <canTargetSelf>false</canTargetSelf>
      </targetParams>
      <tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
      <tooltipShowExtraDamages>false</tooltipShowExtraDamages>
      <tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
      <tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
    </MainVerb>
    <PassiveProps>
      <worker>AbilityUser.PassiveEffectWorker</worker>
      <hediffs>
        <li>ROMV_CelerityIIIHediff</li>
      </hediffs>
    </PassiveProps>
  </Vampire.VitaeAbilityDef>
  <HediffDef ParentName="ROMV_VampBase">
    <defName>ROMV_CelerityIIIHediff</defName>
    <label>supernatural speed (Celerity III)</label>
    <description>supernatural speed (Celerity III)</description>
    <comps>
      <li Class="HediffCompProperties_Disappears">
        <disappearsAfterTicks>
          <min>3000</min>
          <max>3000</max>
        </disappearsAfterTicks>
      </li>
    </comps>
    <stages>
      <li>
        <capMods>
          <li>
            <capacity>Sight</capacity>
            <offset>0.1</offset>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>0.1</offset>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

  <Vampire.VitaeAbilityDef ParentName="BaseVampAbility">
    <defName>ROMV_CelerityIV</defName>
    <label>Celerity IV</label>
    <uiIconPath>Celerity</uiIconPath>
    <description>Passively boosts movement and sight by 10% per level.</description>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
      <verbClass>Vampire.DisciplineEffect_EnterTheAbyss</verbClass>
      <hasStandardCommand>False</hasStandardCommand>
      <defaultProjectile>ROMV_DominateProjectile</defaultProjectile>
      <abilityDef>ROMV_Obtenebration_EnterTheAbyss</abilityDef>
      <isViolent>false</isViolent>
      <warmupTime>1</warmupTime>
      <SecondsToRecharge>200.0</SecondsToRecharge>
      <range>99</range>
      <burstShotCount>1</burstShotCount>
      <ticksBetweenBurstShots>2</ticksBetweenBurstShots>
      <soundCast>ROMV_AbilityCastSound_Obtenebration</soundCast>
      <muzzleFlashScale>20</muzzleFlashScale>
      <isPrimary>false</isPrimary>
      <targetParams>
        <canTargetLocations>true</canTargetLocations>
        <canTargetPawns>false</canTargetPawns>
        <canTargetBuildings>false</canTargetBuildings>
        <canTargetItems>false</canTargetItems>
        <canTargetSelf>false</canTargetSelf>
      </targetParams>
      <tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
      <tooltipShowExtraDamages>false</tooltipShowExtraDamages>
      <tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
      <tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
    </MainVerb>
    <PassiveProps>
      <worker>AbilityUser.PassiveEffectWorker</worker>
      <hediffs>
        <li>ROMV_CelerityIVHediff</li>
      </hediffs>
    </PassiveProps>
  </Vampire.VitaeAbilityDef>
  <HediffDef ParentName="ROMV_VampBase">
    <defName>ROMV_CelerityIVHediff</defName>
    <label>supernatural speed (Celerity IV)</label>
    <description>supernatural speed (Celerity IV)</description>
    <comps>
      <li Class="HediffCompProperties_Disappears">
        <disappearsAfterTicks>
          <min>3000</min>
          <max>3000</max>
        </disappearsAfterTicks>
      </li>
      <!--keeping this from potence because celerity should have the same effect by this point-->
      <li Class="JecsTools.HediffCompProperties_Knockback">
        <knockbackChance>0.8</knockbackChance>
        <stunChance>0.2</stunChance>
        <stunTicks>60</stunTicks>
        <knockDistance>
          <min>2</min>
          <max>3</max>
        </knockDistance>
        <explosiveKnockback>true</explosiveKnockback>
        <explosionDmg>Stun</explosionDmg>
      </li>
    </comps>
    <stages>
      <li>
        <capMods>
          <li>
            <capacity>Sight</capacity>
            <offset>0.1</offset>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>0.1</offset>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

</Defs>
